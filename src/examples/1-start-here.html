<html>
  <head>
    <!-- 1. This script loads duffel-components -->
    <script src="http://127.0.0.1:8000/DuffelCheckoutCustomElement.js"></script>
    <script>
      window.onload = () => {
        // 3. Create an event handler to work with order creation payload
        async function handleCreateOrderPayload(createOrderPayload) {
          alert(
            "CREATE ORDER PAYLOAD: \n" +
              JSON.stringify(createOrderPayload, null, 2)
          );
        }

        // 4. Listen to `onPayloadReady` event on the component
        document
          .getElementById("duffel-checkout")
          .addEventListener("onPayloadReady", ({ detail }) =>
            handleCreateOrderPayload(detail)
          );
      };
    </script>
  </head>

  <body style="font-family: sans-serif; max-width: 800px; margin-inline: auto">
    <h1>Checkout page</h1>

    <!-- 2. Add the custom element to your markup -->
    <duffel-checkout
      id="duffel-checkout"
      offer='{"id":"off_123"}'
      passengers='[{"id":"pas_123"}]'
    ></duffel-checkout>
  </body>
</html>
